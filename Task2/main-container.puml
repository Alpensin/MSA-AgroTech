@startuml main context diagram AgroTech

' Задаем стиль
!NEW_C4_STYLE=1
!theme C4_violet from ../C4-PlantUML/themes

' Импортируем элементы
!include ../C4-PlantUML/C4_Container.puml

' Определяем акторов

Enterprise_Boundary(farm, "Ферма"){
    Person(operator, "Оператор", "Сотрудник на ферме")
    System(edge_control, "Управление edge-устройствами", "Анализирует полученные данные с IoT устройств, управляет ими")
    System(edge_device, "Edge-устройство", "Различные IoT датчики и пульты управления оборудованием")
    System(vid_mon, "Видеорегистратор", "Точка сбора видеопотоков с камер")
        System_Boundary(vid_mon_anal, "Анализ данных с видеомониторинга"){
        Container(ai, "Видеоаналитика ИИ", "Python FastAPI", "Анализ видеопотоков с помощью ИИ")
    }
    System(notification, "Отправка уведомлений", "Служит для отправки уведомлений у различные источники")
    System(local_metrics_hub, "Сбор метрик", "Точка сбора метрик")
}

' Рисуем связи


' В пределах фермы
Rel(ai, vid_mon, "Получает видеопотоки", "ONVIF")

' Между фермой и цетральным сервером


' Между центральным сервером и общей системой предприятия